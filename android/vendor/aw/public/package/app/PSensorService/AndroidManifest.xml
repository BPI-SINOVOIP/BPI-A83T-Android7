<?xml version="1.0" encoding="utf-8"?>
<!-- system uid for gaint dump and inject permission -->
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.softwinner.vr.psensor.service"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="14"
        android:targetSdkVersion="25" />

    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <!-- for call PowerManager goToSleep -->
    <uses-permission android:name="android.permission.DEVICE_POWER" />
    <uses-permission android:name="android.permission.WAKE_LOCK"/>
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>

    <!-- for our self system broadcast -->
    <!--
         TODO:
         if you want debug, we can disable self broadcast as protected for
         you can use am to send it.
    -->
    <protected-broadcast android:name="com.softwinner.vr.action.psensor_near" />
    <protected-broadcast android:name="com.softwinner.vr.action.psensor_far" />
    <protected-broadcast android:name="com.softwinner.vr.action.power_on" />

    <!--
        we let our psesnor service as persistent
        for the system don't kill our background service
        otherwise the the service will be kill in sometime
        and it auto start when system is boot
    -->
    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:persistent="true">

        <service
            android:name="com.softwinner.vr.psensor.service.PSensorService"
            android:exported="true">
            <intent-filter>
                <action android:name="com.softwinner.vr.psensor.service.command"/>
            </intent-filter>
        </service>

        <receiver android:name="com.softwinner.vr.psensor.service.ServiceReceiver">
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED"/>
            </intent-filter>
        </receiver>

    </application>

</manifest>
